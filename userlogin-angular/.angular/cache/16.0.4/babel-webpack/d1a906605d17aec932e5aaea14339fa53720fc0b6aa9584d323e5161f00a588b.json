{"ast":null,"code":"import { User } from 'src/app/model/user';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_option_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const r_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", r_r1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(r_r1);\n  }\n}\nclass LoginComponent {\n  constructor(authService, route) {\n    this.authService = authService;\n    this.route = route;\n    this.username = '';\n    this.password = '';\n    this.role = '';\n    this.user = new User();\n    this.roles = ['admin', 'user'];\n  }\n  ngOnInit() {\n    this.username = '';\n    this.password = '';\n  }\n  login() {\n    // console.log(this.username+\" \"+this.password+\" \"+this.role)\n    this.user.username = this.username;\n    this.user.password = this.password;\n    this.user.role = this.role;\n    this.authService.login(this.user).subscribe(res => {\n      if (res == null) {\n        alert(\"Username or Password is wrong\");\n        this.ngOnInit();\n      } else {\n        console.log(\"Login succesfull\");\n        localStorage.setItem(\"token\", res.token);\n        if (this.role == \"user\") {\n          this.route.navigate(['/user']);\n        }\n        if (this.role == \"admin\") {\n          this.route.navigate(['/admin']);\n        }\n      }\n    }, err => {\n      alert(\"Login Failed\");\n      this.ngOnInit();\n    });\n  }\n}\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 29,\n  vars: 4,\n  consts: [[1, \"container-fluid\"], [1, \"row\"], [1, \"col-md-6\"], [\"src\", \"../../../assets/login_img.img\", \"height\", \"100%\", \"width\", \"100%\"], [1, \"col-md-4\"], [1, \"test\", \"text-center\"], [\"action\", \"\", 1, \"mt-4\"], [1, \"text-primary\", \"mb-3\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"text\", \"id\", \"floatingInput\", \"placeholder\", \"Username\", \"name\", \"username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingInput\"], [\"type\", \"password\", \"id\", \"floatingPassword\", \"placeholder\", \"Password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingPassword\"], [\"id\", \"floatingSelect\", \"aria-label\", \"Role\", \"name\", \"role\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"for\", \"floatingSelect\"], [1, \"d-grid\", \"gap-2\", \"d-md-flex\", \"justify-content-md-end\"], [\"type\", \"button\", 1, \"btn\", \"btn-outline-success\", \"me-md-2\", 3, \"click\"], [\"routerLink\", \"/signup\", 1, \"text-primary\", 2, \"text-decoration\", \"none\"], [1, \"col-md-2\"], [3, \"value\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵelement(3, \"img\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 4)(5, \"h3\", 5);\n      i0.ɵɵtext(6, \"Welcome to UST \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"form\", 6)(8, \"h5\", 7);\n      i0.ɵɵtext(9, \"Login \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 8)(11, \"input\", 9);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_11_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"label\", 10);\n      i0.ɵɵtext(13, \"Email address\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"div\", 8)(15, \"input\", 11);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_input_ngModelChange_15_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"label\", 12);\n      i0.ɵɵtext(17, \"Password\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(18, \"div\", 8)(19, \"select\", 13);\n      i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_Template_select_ngModelChange_19_listener($event) {\n        return ctx.role = $event;\n      });\n      i0.ɵɵtemplate(20, LoginComponent_option_20_Template, 2, 2, \"option\", 14);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"label\", 15);\n      i0.ɵɵtext(22, \"Role\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(23, \"div\", 16)(24, \"button\", 17);\n      i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_24_listener() {\n        return ctx.login();\n      });\n      i0.ɵɵtext(25, \"Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(26, \"a\", 18);\n      i0.ɵɵtext(27, \"Need account ? \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelement(28, \"div\", 19);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(11);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.role);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.roles);\n    }\n  },\n  dependencies: [i3.NgForOf, i2.RouterLink, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { LoginComponent };","map":{"version":3,"names":["User","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","r_r1","ɵɵadvance","ɵɵtextInterpolate","LoginComponent","constructor","authService","route","username","password","role","user","roles","ngOnInit","login","subscribe","res","alert","console","log","localStorage","setItem","token","navigate","err","ɵɵdirectiveInject","i1","AuthService","i2","Router","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","LoginComponent_Template_input_ngModelChange_11_listener","$event","LoginComponent_Template_input_ngModelChange_15_listener","LoginComponent_Template_select_ngModelChange_19_listener","ɵɵtemplate","LoginComponent_option_20_Template","LoginComponent_Template_button_click_24_listener"],"sources":["C:\\Users\\Administrator\\Downloads\\UserLoginAplication\\userlogin-angular\\src\\app\\auth\\login\\login.component.ts","C:\\Users\\Administrator\\Downloads\\UserLoginAplication\\userlogin-angular\\src\\app\\auth\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { User } from 'src/app/model/user';\r\nimport { AuthService } from 'src/app/service/auth.service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n \r\n  username : string = '';\r\n  password : string = '';\r\n  role : string = '';\r\n  user:User=new User();\r\n  roles : string[];\r\n\r\n  constructor(private authService:AuthService,private route:Router){\r\n    this.roles=[\r\n      'admin',\r\n      'user'\r\n    ]\r\n  }\r\n  ngOnInit(): void {\r\n    this.username='';\r\n    this.password='';\r\n  }\r\n  login(){\r\n    // console.log(this.username+\" \"+this.password+\" \"+this.role)\r\n    this.user.username=this.username;\r\n    this.user.password=this.password;\r\n    this.user.role=this.role;\r\n\r\n    this.authService.login(this.user).subscribe(res=>{\r\n    if(res==null){\r\n      alert(\"Username or Password is wrong\");\r\n      this.ngOnInit();\r\n    }\r\n    else{\r\n      console.log(\"Login succesfull\");\r\n      localStorage.setItem(\"token\",res.token);\r\n      if(this.role==\"user\"){\r\n        this.route.navigate(['/user']);\r\n      }\r\n      if(this.role==\"admin\"){\r\n        this.route.navigate(['/admin']);\r\n      }\r\n    }\r\n    },err=>{\r\n      alert(\"Login Failed\");\r\n      this.ngOnInit();\r\n    })\r\n  }\r\n\r\n}\r\n","<div class=\"container-fluid\">\r\n    <div class=\"row\">\r\n        \r\n        \r\n        <div class=\"col-md-6\">\r\n            <img src=\"../../../assets/login_img.img\" height=\"100%\" width=\"100%\">\r\n\r\n        </div>\r\n        <div class=\"col-md-4\"> \r\n            <h3 class=\"test text-center\">Welcome to UST </h3>\r\n            <form action=\"\" class=\"mt-4\">\r\n                <h5 class=\"text-primary mb-3\">Login </h5>\r\n                <div class=\"form-floating mb-3\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"floatingInput\" placeholder=\"Username\" name=\"username\" [(ngModel)]=\"username\" >\r\n                    <label for=\"floatingInput\">Email address</label>\r\n                </div>\r\n                  <div class=\"form-floating mb-3\">\r\n                    <input type=\"password\" class=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" name=\"password\" [(ngModel)]=\"password\" >\r\n                    <label for=\"floatingPassword\">Password</label>\r\n                  </div>\r\n                  <div class=\"form-floating mb-3\">\r\n                    <select class=\"form-select\" id=\"floatingSelect\" aria-label=\"Role\" name=\"role\" [(ngModel)]=\"role\">\r\n                      <option *ngFor=\"let r of roles\" [value]=\"r\">{{r}}</option>\r\n                    </select>\r\n                    <label for=\"floatingSelect\">Role</label>\r\n                  </div>\r\n                  <div class=\"d-grid gap-2 d-md-flex justify-content-md-end\">\r\n                    <button class=\"btn btn-outline-success me-md-2\" type=\"button\" (click)=\"login()\"  >Login</button>\r\n                  </div>\r\n                  <a routerLink=\"/signup\" class=\"text-primary\" style=\"text-decoration: none;\">Need account ? </a>\r\n            </form>\r\n        </div>\r\n        <div class=\"col-md-2\">\r\n      </div>\r\n    </div>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}